class DijkstraInstanceGenerator{constructor(e){this.debug=e;this.t1=-1}yrw(){function e(e){return Math.floor(JSAV.utils.rand.random()*e)+1}let t=e(6);let l=e(6);let r=l+e(5);let s=r+e(5);let n=s-r+e(5);let h=n+e(5);let i=r+h-s+e(5);let o=i+e(5);let a=s+o-(r+h)+e(5);let d=r+h+a-(s+o)+e(5);let f=s+o+d-(r+h+a)+e(5);let u=r+h+a+f-(s+o)+e(5);let g=e(9);let c=h-n+e(5);let p=s+o-(r+h)+e(5);let b=h+a-n+e(5);let A=o-i+e(5);let x=o+d-i+e(5);let L=e(9);let M=[t,t+l,t+r,t+s,t+r+n,t+r+h,t+s+i,t+s+o,t+r+h+a,t+s+o+d,t+r+h+a+f,t+s+o+u,t+s+o+u+g];for(let e=1;e<M.length;e++){if(M[e-1]>=M[e]){return undefined}}let v=h<n+c&&s+o<r+h+p&&h+a<n+b&&o<i+A&&b+d<i+x;if(!v){return undefined}return{a:t,b:l,c:r,d:s,e:n,f:h,g:i,h:o,i:A,j:x,k:c,l:p,m:d,n:b,o:a,p:u,q:f,r:g,s:L}}bdc(s){const t=16;const e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P"];let n={vertexLabels:e,edges:new Array(t)};for(let e=0;e<t;e++){n.edges[e]=[]}const l=["AB:a","BC:b","BE:c","BF:d","DH:s","EI:e","EJ:f","FG:g","FK:h","GK:i","GL:j","IJ:k","IN:n","JK:l","JN:o","KL:m","KO:p","MN:q","OP:r"];for(let r of l){let e=r.charCodeAt(0)-65;let t=r.charCodeAt(1)-65;let l=s[r[3]];n.edges[e].push([t,l]);n.edges[t].push([e,l])}return n}lll(r){for(let l=0;l<r.edges.length;l++){let t=[r.vertexLabels[l]," : "];for(let e of r.edges[l]){t.push(r.vertexLabels[e[0]]," ",e[1],", ")}}}ugu(t,l){if(l.length!=16){throw"Length of sourceArray must be 16."}const r=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[3,7,11,15,2,6,10,14,1,5,9,13,0,4,8,12],[15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0],[12,8,4,0,13,9,5,1,14,10,6,2,15,11,7,3],[12,13,14,15,8,9,10,11,4,5,6,7,0,1,2,3],[3,2,1,0,7,6,5,4,11,10,9,8,15,14,13,12],[0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15],[15,11,7,3,14,10,6,2,13,9,5,1,12,8,4,0]];let s=new Array(l.length);for(let e=0;e<l.length;e++){s[e]=l[r[t][e]]}return s}rls(e,t,l){let r=e[t];e[t]=e[l];e[l]=r}iai(e){if(e===undefined){return}let t=[...e];let l,r,s;for(l=t.length-1;l>0;l--){r=Math.floor((l+1)*JSAV.utils.rand.random());this.rls(t,l,r)}return t}mph(t,l){let r=new Array(t.length);for(let e=0;e<t.length;e++){r[e]=t[l[e]]}return r}aal(t){let l=new Array(t.length);for(let e=0;e<t.length;e++){l[t[e]]=e}return l}kus(t,s,e){let n={vertexLabels:[...t.vertexLabels],edges:new Array(s.length)};for(let e=0;e<s.length;e++){n.edges[e]=[]}for(let e=0;e<s.length;e++){let r=s[e];for(let l of t.edges[e]){let e=s[l[0]];let t=l[1];n.edges[r].push([e,t])}}let h={vertexLabels:[...t.vertexLabels,"Q","R","S","T","U","V","W","X"],edges:new Array(24)};for(let e=0;e<h.edges.length;e++){h.edges[e]=[]}if(e){for(let r=0;r<n.edges.length;r++){let l=2*Math.floor(r/4);for(let t of n.edges[r]){let e=t[0]+2*Math.floor(t[0]/4);h.edges[r+l].push([e,t[1]])}}}else{for(let s=0;s<n.edges.length;s++){let r=s%4?2*Math.ceil(s/4):2*(Math.ceil(s/4)+1);for(let l of n.edges[s]){let e=l[0]%4?Math.ceil(l[0]/4):Math.ceil(l[0]/4)+1;let t=l[0]+2*e;h.edges[s+r].push([t,l[1]])}}}return h}dcd(t,l){let r=[];for(let e=0;e<t.vertexLabels.length;e++){r.push(t.vertexLabels[l[e]])}t.vertexLabels=r}dvd(e,t){const l={0:[0,1],1:[0,6],2:[1,7],3:[6,7],4:[6,12],5:[7,13],6:[12,13],7:[12,18],8:[13,19],9:[18,19],10:[0,7],11:[1,6],12:[6,13],13:[7,12],14:[12,19],15:[13,18]};let r=[0,1,2,3,4,5,6,7,8,9,[10,11],[12,13],[14,15]];if(t){if(this.t1===1){l[16]=[16,21];l[17]=[21,22];r.push(16,17)}if(this.t1===4){l[16]=[10,15];l[17]=[15,16];l[18]=[15,22];l[19]=[16,21];l[20]=[21,22];r.push(16,17,[18,19],20)}if(this.t1===0){l[16]=[3,4];l[17]=[3,10];l[18]=[4,9];l[19]=[9,10];l[20]=[9,16];r.push(16,[17,18],19,20)}if(this.t1===7){l[16]=[3,4];l[17]=[3,10];r.push(16,17)}}else{if(this.t1===3){l[16]=[1,2];l[17]=[2,7];r.push(16,17)}if(this.t1===5){l[16]=[1,2];l[17]=[1,8];l[18]=[2,7];l[19]=[7,8];l[20]=[8,13];r.push(16,[17,18],19,20)}if(this.t1===2){l[16]=[7,14];l[17]=[13,14];l[18]=[13,20];l[19]=[14,19];l[20]=[19,20];r.push(16,17,[18,19],20)}if(this.t1===6){l[16]=[13,20];l[17]=[19,20];r.push(16,17)}}for(let e=0;e<r.length;e++){if(Array.isArray(r[e])){r[e]=r[e][Math.round(JSAV.utils.rand.random())]}}const s=Math.ceil(r.length/2);const n=this.iai(r).slice(0,s);for(i=0;i<n.length;i++){const h=l[n[i]];const o=Math.round(JSAV.utils.rand.random()*8)+1;const a=n[i]<16&&t?4:0;const d=h[0]+a;const f=h[1]+a;e.edges[d].push([f,o]);e.edges[f].push([d,o])}return e}generateInstance(){const t=100;let l=undefined;for(let e=0;e<t;e++){let e=this.yrw();if(e!==undefined){l=this.bdc(e);break}}const e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];let r=this.t1;while(r===this.t1){r=Math.floor(8*JSAV.utils.rand.random())}this.t1=r;let s=this.ugu(r,e);let n=JSAV.utils.rand.random()<.5;let h=this.kus(l,s,n);let i=this.aal(s);const o=[0,1,2,3,16,17,4,5,6,7,18,19,8,9,10,11,20,21,12,13,14,15,22,23];const a=[16,17,0,1,2,3,18,19,4,5,6,7,20,21,8,9,10,11,22,23,12,13,14,15];const d=n?o.indexOf(i.indexOf(0)):a.indexOf(i.indexOf(0));let f=this.iai(n?o:a);let u=f.indexOf(0);this.rls(f,d,u);this.dcd(h,f);h=this.dvd(h,n);let g={};for(let e=0;e<h.vertexLabels.length;e++){g[h.vertexLabels[e]]=i[e]}return{graph:h,roleMap:g,startIndex:d}}}